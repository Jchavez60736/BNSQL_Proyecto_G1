<div class="row justify-content-center">
    <div class="col-md-6 col-lg-4">
        <div class="card login-card">
            <div class="card-body text-center">
                <h2 class="mb-4 text-teal">¡Bienvenido!</h2>

                <% if (typeof error !== 'undefined') { %>
                    <div class="alert alert-danger"><%= error %></div>
                <% } %>

                <form action="/login" method="POST">
                    <div class="mb-3 text-start">
                        <label for="usuario" class="form-label">Nombre de Usuario</label>
                        <input type="text" name="usuario" id="usuario" class="form-control" required />
                    </div>
                    <div class="mb-4 text-start">
                        <label for="contrasena" class="form-label">Contraseña</label>
                        <div class="input-group">
                            <input type="password" name="contrasena" id="contrasena" class="form-control" required />
                            <button type="button" class="btn btn-outline-secondary" id="btnTogglePassword" onclick="togglePassword()">
                                <img src="/svg/eye-closed.svg" alt="Mostrar contraseña" id="imgPassword" width="20" height="20" style="filter: invert(0.5);">
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-teal w-100">Iniciar Sesión</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function togglePassword() {
        const inputPassword = document.getElementById('contrasena');
        const imgPassword = document.getElementById('imgPassword');

        if (inputPassword.type === 'password') {
            // Mostrar contraseña - cambiar a ojo abierto
            inputPassword.type = 'text';
            imgPassword.src = '/svg/eye-open.svg';
            imgPassword.alt = 'Ocultar contraseña';
        } else {
            // Ocultar contraseña - cambiar a ojo cerrado
            inputPassword.type = 'password';
            imgPassword.src = '/svg/eye-closed.svg';
            imgPassword.alt = 'Mostrar contraseña';
        }
    }
</script>
